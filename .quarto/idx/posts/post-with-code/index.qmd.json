{"title":"Análise da inflação do Brasil","markdown":{"yaml":{"title":"Análise da inflação do Brasil","author":"Luiz Henrique","date":"25/10/2022","categories":["inflação","R","análise","ipca"],"image":"ipca.png"},"headingText":"Coleta","containsRefs":false,"markdown":"\n\n\nPara buscar os dados do SIDRA, devemos acessar a plataforma, encontrar a tabela dos dados do IPCA que desejamos, selecionar os parâmetros (as informações que desejamos importar) e em seguida copiar a chave API.\n\nCom a chave API em mãos, podemos utilizar a função do pacote {sidrar}, get_sidra(), e salvar o resultado da consulta em um objeto.\n\n```{r}\n#### Importação\n\n# Índice Nacional de Preços ao Consumidor Amplo (IPCA) - Acumulado 12 meses - IBGE\nipca_raw <- sidrar::get_sidra(api = \"/t/1737/n1/all/v/2265/p/all/d/v2265%202\")\n```\n\n# Coleta\n\nAgora já temos uma forma de importar os dados do IPCA direto no R! Entretanto, vamos analisar o que importamos:\n\n```{r}\ndplyr::glimpse(ipca_raw)\n```\n\nHá diversas colunas, com dados que não possuem importância para a nossa análise, bem como possuem colunas em que os tipos de dados estão totalmente errados! Devemos criar uma forma do R conseguir ler corretamente. Partimos para o processo de limpeza e tratamento.\n\n# Limpeza e Tratamento\n\n```{r}\n# Limpeza do IPCA\n\n# Data de início das séries\ndata_inicio <- lubridate::as_date(\"2004-01-01\")\n\nipca <- ipca_raw |> \n  dplyr::select(\"data\" = \"Mês (Código)\", \"ipca\" = \"Valor\") |> \n  dplyr::mutate(data = lubridate::ym(data)) |> \n  dplyr::filter(data >= data_inicio)  |> \n  dplyr::as_tibble()\n```\n\n# Limpeza e Tratamento\n\nVeja o código acima, parece um pouco complicado, certo? Vamos explicar um pouco o que está acontecendo.\n\nEm primeiro lugar, colocamos o nome do objeto `ipca_raw`, em seguida um símbolo \\|\\> e depois uma função. O que aconteceu aqui? Estamos utilizando o operador pipe do R, que permite colocarmos tudo o que está do lado esquerdo (isto é, o resultado) dentro do primeiro argumento da função da próxima linha.\n\nO primeiro argumento da função `select()` é um argumento que especifica qual o objeto com dados deverá ser utilizado, no caso, ipca_raw. O operador ajuda a criarmos uma sequência de códigos limpa e fácil de ler.\n\nSeguindo o processo, iremos utilizar a função `select()`do pacote `dplyr`, que vai permitir escolhermos quais as colunas que queremos selecionar do data frame importado. No caso, selecionamos 2 colunas: Mês (Código) e Valor, veja que selecionamos utilizando aspas e também colocando \"data\" e \"ipca\" como valores iguais as colunas. Utilizamos isso para encurtar o caminho: estamos alterando o nome das colunas selecionadas para data e ipca, ou seja, além de selecionar colunas a função select permite alterar o nome das mesmas.\n\n# Limpeza e Tratamento\n\nEm seguida, utilizamos pipe novamente, colocando o resultado da linha dentro da função da próxima linha: mutate(). A função mutate() permite alterar as observações das colunas do data frame. Aqui, utilizaremos a função ym do pacote lubridate para alterar os dados da coluna data para o tipo date (está em formato character).\n\nLogo após, vamos aplicar um filtro de dados no data frame com a função filter(). Queremos dados a partir de 2004-01-01, que está salvo no objeto data_inicio. Para isso, dentro da função filter() colocamos que queremos os valores da coluna data \\>= (maior e igual) que data_inicio (2004-01-01).\n\nPor fim, utilizamos a função as_tibble para alterar a estrutura de dados (a classe) do objeto para tibble, que é uma classe similar ao data frame usual, entretanto com mais informações.\n\n# Exploração dos Dados\n\nVamos começar com a função `summary()`, que permite calcular os cinco números dos valores do IPCA. Vemos que o valor mínimo do IPCA Acumulado em 12 meses foi de `r min(ipca$ipca)`%, enquanto o valor máximo foi de `r max(ipca$ipca)`%. A mediana dos valores durante o período está em `r median(ipca$ipca)`%.\n\n```{r}\nsummary(ipca)\n```\n\nPodemos entender o comportamento do indicador ao longo do tempo através de uma gráfico de linha, com a data no eixo x e o IPCA no eixo y. Para construir, utilizamos o pacote {ggplot2}, com as suas funções. Primeiro criamos a camada do gráfico com ggplot(), em seguida, criamos a camada das coordenadas dos dados do gráfico com aes(), depois construído o gráfico de linha com geom_line(), e por fim, adicionamos geom_smooth() para criar uma linha que mensura a tendência do indicador ao longo da série.\n\n```{r linha}\n# Gráfico de linha\nipca |> \n  ggplot2::ggplot() +\n  ggplot2::aes(x = data, y = ipca) +\n  ggplot2::geom_line()\n```\n\nCom o Histograma podemos analisar a distribuição dos dados. Vemos que os valores se encontram próximo do valor 5% e 6%, com uma cauda alongada para a direita, com pontos extremos positivos, significando menores frequências de acontecimento\n\n```{r histograma}\n# Gráfico de histograma do IPCA\nipca |> \n  ggplot2::ggplot() +\n  ggplot2::aes(x = ipca) +\n  ggplot2::geom_histogram()\n```\n\nHoje descobrimos o quão fácil é analisar a Taxa de Inflação do Brasil. Para aprofundamentos, é possível analisar outras janelas de variações (mensal, semestral, anual), além de dar um passo adiante e iniciar a etapa de modelagem. Até a próxima!\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../styles.css"],"output-file":"index.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.1.251","editor":"visual","theme":"spacelab","title-block-banner":true,"title":"Análise da inflação do Brasil","author":"Luiz Henrique","date":"25/10/2022","categories":["inflação","R","análise","ipca"],"image":"ipca.png"},"extensions":{"book":{"multiFile":true}}}}}